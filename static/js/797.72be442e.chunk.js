"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{629:function(e,t,r){r.d(t,{jC:function(){return b},nX:function(){return v},wr:function(){return l}});var n=r(683),u=r(861),a=r(757),c=r.n(a),o="https://api.themoviedb.org/3/",s={page:1},i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat("01f98e5b09e949a0ecd61ff5cf487708")}};function p(e){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)(c().mark((function e(t){var r,u,a,p,f,l,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.requestPath,u=void 0===r?"trending/all/day":r,a=t.requestParams,p=void 0===a?{}:a,e.prev=1,f=new URLSearchParams((0,n.Z)((0,n.Z)({},s),p)),e.next=5,fetch("".concat(o).concat(u,"?").concat(f),i);case 5:if((l=e.sent).ok){e.next=8;break}throw new Error("Error status: ".concat(l.status));case 8:return e.next=10,l.json();case 10:return h=e.sent,e.abrupt("return",h);case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function l(e){return h.apply(this,arguments)}function h(){return(h=(0,u.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={page:t},e.next=4,p({requestPath:"trending/movie/day",requestParams:r});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0.toString());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e,t){return m.apply(this,arguments)}function m(){return m=(0,u.Z)(c().mark((function e(t,r){var u,a,o,s,i,f,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,u="search/movie",a=l.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=l[s];return i=(0,n.Z)({query:t,page:r},o),e.next=6,p({requestPath:u,requestParams:i});case 6:return f=e.sent,e.abrupt("return",f);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0.toString());case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),m.apply(this,arguments)}function b(e){return d.apply(this,arguments)}function d(){return d=(0,u.Z)(c().mark((function e(t){var r,n,u,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,n="movie/".concat(t).concat(r),e.next=5,p({requestPath:n});case 5:return u=e.sent,e.abrupt("return",u);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0.toString());case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),d.apply(this,arguments)}},862:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(689),u=r(87),a=r(184),c=function(e){var t=e.name;return(0,a.jsx)("li",{children:t})},o=function(e){var t=e.movies,r=(0,n.TH)(),o="/"===r.pathname?"movies/":"";return(0,a.jsx)("ul",{children:t.map((function(e){return(0,a.jsx)(u.rU,{to:"".concat(o).concat(e.id),state:{from:r},children:(0,a.jsx)(c,{name:e.title})},e.id)}))})}},797:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(433),u=r(861),a=r(439),c=r(757),o=r.n(c),s=r(791),i=r(87),p="SearchForm_Form__GTWNu",f="SearchForm_Input__Gi+Av",l="SearchForm_Button__wzOKR",h=r(184),v=function(e){var t=e.onSubmit;return(0,h.jsxs)("form",{onSubmit:t,className:p,children:[(0,h.jsx)("input",{name:"querry",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",className:f}),(0,h.jsx)("button",{type:"submit",className:l,children:"Search"})]})},m=r(862),b=r(629),d=function(){var e=(0,s.useRef)([]),t=(0,i.lr)([]),r=(0,a.Z)(t,2),c=r[0],p=r[1],f=(0,s.useState)(""),l=(0,a.Z)(f,2),d=l[0],y=l[1],w=(0,s.useState)(!1),g=(0,a.Z)(w,2),j=g[0],x=g[1];return(0,s.useEffect)((function(){var e=c.get("querry");e&&y(e)}),[c]),(0,s.useEffect)((function(){function t(){return(t=(0,u.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,b.nX)(d,1);case 3:r=t.sent,e.current=(0,n.Z)(r.results),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error: ",t.t0.toString());case 10:return t.prev=10,x((function(e){return!e})),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[d]),(0,s.useEffect)((function(){}),[j]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;p({querry:t.querry.value}),y(t.querry.value),t.reset()}}),e.current.length>0&&(0,h.jsx)(m.Z,{movies:e.current})]})}},683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=797.72be442e.chunk.js.map