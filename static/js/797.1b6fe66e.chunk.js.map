{"version":3,"file":"static/js/797.1b6fe66e.chunk.js","mappings":"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","sources":["components/API/fetchFromApi.js","components/atoms/MovieCard/MovieCard.jsx","components/molecules/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/atoms/SearchForm/SearchForm.module.css?cb78","components/atoms/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["const API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWY5OGU1YjA5ZTk0OWEwZWNkNjFmZjVjZjQ4NzcwOCIsInN1YiI6IjY1NGEyMzg2NjdiNjEzMDBlNWRiZWU2YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._IymMCQvVDtuF5JQ2rSGqYHKHWFjtr9CChelxaTcWxM';\nconst API_URL = 'https://api.themoviedb.org/3/';\nconst DEFAULT_PAGE = { page: 1 };\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${API_KEY}`,\n  },\n};\n\nexport async function fetchFromApi({\n  requestPath = 'trending/all/day',\n  requestParams = {},\n}) {\n  try {\n    const params = new URLSearchParams({ ...DEFAULT_PAGE, ...requestParams });\n    const response = await fetch(`${API_URL}${requestPath}?${params}`, options);\n    if (!response.ok) {\n      throw new Error(`Error status: ${response.status}`);\n    }\n    const films = await response.json();\n    return films;\n  } catch (err) {\n    return err;\n  }\n}\n\nexport async function fetchTrendingMovies(page) {\n  try {\n    const requestParams = { page };\n    const films = await fetchFromApi({\n      requestPath: 'trending/movie/day',\n      requestParams,\n    });\n    return films;\n  } catch (err) {\n    return err.toString();\n  }\n}\n\nexport async function fetchMoviesWithName(query, page, ...rest) {\n  try {\n    const requestPath = 'search/movie';\n    const requestParams = { query, page, ...rest };\n    const films = await fetchFromApi({ requestPath, requestParams });\n    return films;\n  } catch (err) {\n    return err.toString();\n  }\n}\n\nexport async function fetchDetailsMovie(id, additionalPath = '') {\n  try {\n    const requestPath = `movie/${id}${additionalPath}`;\n    const movie = await fetchFromApi({ requestPath });\n    return movie;\n  } catch (err) {\n    return err.toString();\n  }\n}\n","export const MovieCard = ({ name }) => {\n  return <li>{name}</li>;\n};\n","import { Link, useLocation } from 'react-router-dom';\n\nimport { MovieCard } from 'components/atoms/MovieCard/MovieCard';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n  const pathFrom = location.pathname === '/' ? 'movies/' : '';\n  return (\n    <ul>\n      {movies.map(movie => (\n        <Link\n          key={movie.id}\n          to={`${pathFrom}${movie.id}`}\n          state={{ from: location }}\n        >\n          <MovieCard name={movie.title} />\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"Form\":\"SearchForm_Form__GTWNu\",\"Input\":\"SearchForm_Input__Gi+Av\",\"Button\":\"SearchForm_Button__wzOKR\"};","import styles from './SearchForm.module.css';\n\nexport const SearchForm = ({ onSubmit }) => {\n  return (\n    <form onSubmit={onSubmit} className={styles.Form}>\n      <input\n        name=\"querry\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search title...\"\n        className={styles.Input}\n      />\n      <button type=\"submit\" className={styles.Button}>\n        Search\n      </button>\n    </form>\n  );\n};\n","import { useRef, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { SearchForm } from 'components/atoms/SearchForm/SearchForm';\nimport MovieList from 'components/molecules/MovieList/MovieList';\n\nimport { fetchMoviesWithName } from 'components/API/fetchFromApi';\n\nconst Movies = () => {\n  const moviesArray = useRef([]);\n  const [searchParams, setSearchParams] = useSearchParams([]);\n  const [querry, setQuerry] = useState('');\n  const [reload, setReload] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    setSearchParams({ querry: form.querry.value });\n    setQuerry(form.querry.value);\n    form.reset();\n  };\n\n  useEffect(() => {\n    const querryParam = searchParams.get('querry');\n    querryParam && setQuerry(querryParam);\n  }, [searchParams]);\n\n  useEffect(() => {\n    async function getMovies() {\n      try {\n        const movies = await fetchMoviesWithName(querry, 1);\n        moviesArray.current = [...movies.results];\n      } catch (err) {\n        console.log('Error: ', err.toString());\n      } finally {\n        setReload(r => !r);\n      }\n    }\n    getMovies();\n  }, [querry]);\n\n  useEffect(() => {}, [reload]);\n  return (\n    <>\n      <SearchForm onSubmit={handleSubmit} />\n      {moviesArray.current.length > 0 && (\n        <MovieList movies={moviesArray.current} />\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["API_URL","DEFAULT_PAGE","page","options","method","headers","accept","Authorization","concat","fetchFromApi","_x","_fetchFromApi","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","_ref","_ref$requestPath","requestPath","_ref$requestParams","requestParams","params","response","films","_context","prev","next","URLSearchParams","_objectSpread","fetch","sent","ok","Error","status","json","abrupt","t0","stop","fetchTrendingMovies","_x2","_fetchTrendingMovies","_callee2","_context2","toString","fetchMoviesWithName","_x3","_x4","_fetchMoviesWithName","_callee3","query","_len","rest","_key","_args3","_context3","length","Array","fetchDetailsMovie","_x5","_fetchDetailsMovie","_callee4","id","additionalPath","movie","_args4","_context4","undefined","MovieCard","name","_jsx","children","movies","location","useLocation","pathFrom","pathname","map","Link","to","state","from","title","SearchForm","onSubmit","_jsxs","className","styles","type","autoComplete","autoFocus","placeholder","moviesArray","useRef","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","querry","setQuerry","_useState3","_useState4","reload","setReload","useEffect","querryParam","get","_getMovies","current","_toConsumableArray","results","console","log","r","finish","getMovies","_Fragment","event","preventDefault","form","currentTarget","value","reset","MovieList","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","target","i","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}