"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{629:function(t,e,r){r.d(e,{jC:function(){return y},nX:function(){return v},wr:function(){return l}});var n=r(683),u=r(861),c=r(757),a=r.n(c),o="https://api.themoviedb.org/",s={page:1},i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWY5OGU1YjA5ZTk0OWEwZWNkNjFmZjVjZjQ4NzcwOCIsInN1YiI6IjY1NGEyMzg2NjdiNjEzMDBlNWRiZWU2YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._IymMCQvVDtuF5JQ2rSGqYHKHWFjtr9CChelxaTcWxM")}};function p(t){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)(a().mark((function t(e){var r,u,c,p,f,l,h;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.requestPath,u=void 0===r?"trending/all/day":r,c=e.requestParams,p=void 0===c?{}:c,t.prev=1,f=new URLSearchParams((0,n.Z)((0,n.Z)({},s),p)),t.next=5,fetch("".concat(o).concat(u,"?").concat(f),i);case 5:if((l=t.sent).ok){t.next=8;break}throw new Error("Error status: ".concat(l.status));case 8:return t.next=10,l.json();case 10:return h=t.sent,t.abrupt("return",h);case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return(h=(0,u.Z)(a().mark((function t(e){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={page:e},t.next=4,p({requestPath:"trending/movie/day",requestParams:r});case 4:return n=t.sent,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0.toString());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function v(t,e){return m.apply(this,arguments)}function m(){return m=(0,u.Z)(a().mark((function t(e,r){var u,c,o,s,i,f,l=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,u="search/movie",c=l.length,o=new Array(c>2?c-2:0),s=2;s<c;s++)o[s-2]=l[s];return i=(0,n.Z)({query:e,page:r},o),t.next=6,p({requestPath:u,requestParams:i});case 6:return f=t.sent,t.abrupt("return",f);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",t.t0.toString());case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),m.apply(this,arguments)}function y(t){return b.apply(this,arguments)}function b(){return b=(0,u.Z)(a().mark((function t(e){var r,n,u,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"",t.prev=1,n="movie/".concat(e).concat(r),t.next=5,p({requestPath:n});case 5:return u=t.sent,t.abrupt("return",u);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",t.t0.toString());case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),b.apply(this,arguments)}},862:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(689),u=r(87),c=r(184),a=function(t){var e=t.name;return(0,c.jsx)("li",{children:e})},o=function(t){var e=t.movies,r=(0,n.TH)(),o="/"===r.pathname?"movies/":"";return(0,c.jsx)("ul",{children:e.map((function(t){return(0,c.jsx)(u.rU,{to:"".concat(o).concat(t.id),state:{from:r},children:(0,c.jsx)(a,{name:t.title})},t.id)}))})}},797:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n=r(433),u=r(861),c=r(439),a=r(757),o=r.n(a),s=r(791),i=r(87),p="SearchForm_Form__GTWNu",f="SearchForm_Input__Gi+Av",l="SearchForm_Button__wzOKR",h=r(184),v=function(t){var e=t.onSubmit;return(0,h.jsxs)("form",{onSubmit:e,className:p,children:[(0,h.jsx)("input",{name:"querry",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search title...",className:f}),(0,h.jsx)("button",{type:"submit",className:l,children:"Search"})]})},m=r(862),y=r(629),b=function(){var t=(0,s.useRef)([]),e=(0,i.lr)([]),r=(0,c.Z)(e,2),a=r[0],p=r[1],f=(0,s.useState)(""),l=(0,c.Z)(f,2),b=l[0],j=l[1],d=(0,s.useState)(!1),w=(0,c.Z)(d,2),x=w[0],g=w[1];return(0,s.useEffect)((function(){var t=a.get("querry");t&&j(t)}),[a]),(0,s.useEffect)((function(){function e(){return(e=(0,u.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.nX)(b,1);case 3:r=e.sent,t.current=(0,n.Z)(r.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ",e.t0.toString());case 10:return e.prev=10,g((function(t){return!t})),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]),(0,s.useEffect)((function(){}),[x]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{onSubmit:function(t){t.preventDefault();var e=t.currentTarget;p({querry:e.querry.value}),j(e.querry.value),e.reset()}}),t.current.length>0&&(0,h.jsx)(m.Z,{movies:t.current})]})}},683:function(t,e,r){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.d(e,{Z:function(){return c}})}}]);
//# sourceMappingURL=797.65391c8b.chunk.js.map